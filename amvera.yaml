name: birthday-bot
type: docker
build:
  context: .
  dockerfile: Dockerfile
  args:
    - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
  registry: docker.io
  image: eldarius/birthday-bot:latest

resources:
  cpu: 0.1
  memory: 256Mi

volumes:
  - name: data
    path: /app/data
    size: 1Gi

restart_policy:
  condition: on-failure
  max_retries: 3
  delay: 10s

env:
  - name: DATABASE_PATH
    value: /app/data/birthdays.db
  - name: TELEGRAM_BOT_TOKEN
    value: ${TELEGRAM_BOT_TOKEN} 